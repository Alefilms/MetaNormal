// room script file
bool     EstaDentroDeSalida = false;
bool     AbrioCajaDeHerramientas = false;
function room_RepExec()
{
if (GetLocationType(mouse.x,mouse.y) == eLocationHotspot && Game.GetLocationName(mouse.x, mouse.y) == "Hall de entrada" )
 {
    mouse.Mode = eModeInteract;
    EstaDentroDeSalida = true;
   mouse.UseModeGraphic(eModeFechaDere);
   }
  else if( EstaDentroDeSalida == true)
  {
   EstaDentroDeSalida = false;
   mouse.UseDefaultGraphic();
  }
}

function hHall_Interact()
{
mouse.Mode = eModeWalkto;
player.ChangeRoom(2, 25, 665);
}

function oCajaDeHerramientas_Interact()
{
  if ( AbrioCajaDeHerramientas == false)
  {
  player.Walk(580, 340, eBlock, eWalkableAreas);
  player.FaceDirection(eDirectionUp, eBlock);
  Hablar("Veamos que tenemos adentro...");
  oCajaDeHerramientas.SetView(14, 0, 1);
  Hablar("No se porque tenemos una caja de herramientas");
  Hablar("Cuando lo unico que tenemos es un destornillador");
  player.AddInventory(iDestornillador);
  oCajaDeHerramientas.SetView(14, 0, 0);
  AbrioCajaDeHerramientas = true;
  }
  else
  {
        player.Walk(580, 340, eBlock, eWalkableAreas);
    player.FaceDirection(eDirectionUp, eBlock);
     if ( player.HasInventory(iDestornillador))
      {
          switch (player)
        {
          case cAle: 
               player.FaceDirection(eDirectionDown, eBlock);
               Hablar("Si yo tengo el destornillador...");
               Hablar("Veamos que MAS podria haber en esta caja");
               player.FaceDirection(eDirectionUp, eBlock);
                 oCajaDeHerramientas.SetView(14, 0, 1);
               Hablar("Como lo sospechaba");
               Hablar("No hay NADA mas aqui");
               oCajaDeHerramientas.SetView(14, 0, 0);
               break;
          case cSantiago: 
                player.FaceDirection(eDirectionDown, eBlock);
               Hablar("Tengo en mis manos la UNICA herramienta");
               Hablar("¿Por que no contemplar la caja de herramientas?"); 
               oCajaDeHerramientas.SetView(14, 0, 1);
                player.FaceDirection(eDirectionUp, eBlock);
               Hablar("Ahh, nada mejor que observar un fino contenedor VACIO");
               Hablar("Bueno, seguro habra mas cosas que contemplar");
               oCajaDeHerramientas.SetView(14, 0, 0);
               break;
        }
      }
      else
      {
                  oCajaDeHerramientas.SetView(14, 0, 1);
        Hablar("No hay nada aqui");
             oCajaDeHerramientas.SetView(14, 0, 0);
      }
  }  
}

function oCajaDeHerramientas_Talk()
{
HablarDefault();
}

function hEscopeta_UseInv()
{
switch (player.ActiveInventory)
{
case iDestornillador: 
UsarDestornilladorDefault();
break;
}
}
